{"id":"1107002332887130255","options":[],"components":[{"type":"ACTION","action":{"type":"EXECUTE_CODE","execute_code":{"code":"const bet = command.options.find(i => i.name === 'bet')\r\nconst { wallet } = await getUserActivity(member.user.id)\r\n\r\nif (bet.value > wallet[0]) {\r\n  await reply({\r\n    content: `**${member.user.username}**, недостаточное количество средств`,\r\n    ephemeral: true\r\n  })\r\n\r\n  return\r\n}\r\n\r\nconst items = ['💵', '💍', '💯', '🍓', '🍎', '🍉', '🍌', '🍐', '💰', '💎']\r\nconst res1 = items[Math.floor(Math.random() * items.length)],\r\n  res2 = items[Math.floor(Math.random() * items.length)],\r\n  res3 = items[Math.floor(Math.random() * items.length)]\r\n\r\nlet title\r\n\r\nif (res1 !== res2 && res2 !== res3) {\r\n  title = 'Вы проиграли :('\r\n  await modifyUserWallet(member.user.id, -bet.value)\r\n} else if (res1 === res2 && res2 === res3) {\r\n  title = 'Крупный выигрыш!'\r\n  await modifyUserWallet(member.user.id, bet.value * 2)\r\n} else {\r\n  title = 'Вы выиграли!'\r\n  await modifyUserWallet(member.user.id, bet.value)\r\n}\r\n\r\nawait reply({\r\n  embeds: [\r\n    {\r\n      title,\r\n      description: `[ ${res1} | ${res2} | ${res3} ]`\r\n    }\r\n  ]\r\n})"}}}],"command":{"type":1,"name":"slots","description":"Игровой автомат","options":[{"type":4,"name":"ставка","description":"Ваша ставка","required":true,"choices":[]}]}}